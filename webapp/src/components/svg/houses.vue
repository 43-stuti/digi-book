<template>
    <svg id="allhouses" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 362.7 251.7" width="30%">
        <defs>
            <pattern id="New_Pattern" data-name="New Pattern" width="34.6" height="34.6" patternTransform="translate(42.86 134.29) scale(0.15)" patternUnits="userSpaceOnUse">
            <path class="cls-1" d="M0 0H34.6V34.6H0z"/>
            <path class="cls-2" d="M0 17.3H34.6V34.6H0z"/>
            <path class="cls-1" d="M0 0H34.6V34.6H0z"/>
            </pattern>
            <pattern id="New_Pattern-3" data-name="New Pattern" width="34.6" height="34.6" patternTransform="translate(-12.02 184.99) scale(0.15)" patternUnits="userSpaceOnUse">
            <path class="cls-1" d="M0 0H34.6V34.6H0z"/>
            <path class="cls-2" d="M0 17.3H34.6V34.6H0z"/>
            <path class="cls-1" d="M0 0H34.6V34.6H0z"/>
            </pattern>
            <pattern id="New_Pattern-5" data-name="New Pattern" width="34.6" height="34.6" patternTransform="translate(8.92 165.01) scale(0.15)" patternUnits="userSpaceOnUse">
            <path class="cls-1" d="M0 0H34.6V34.6H0z"/>
            <path class="cls-2" d="M0 17.3H34.6V34.6H0z"/>
            <path class="cls-1" d="M0 0H34.6V34.6H0z"/>
            </pattern>
            <pattern id="New_Pattern-7" data-name="New Pattern" width="34.6" height="34.6" patternTransform="translate(23.61 182.39) scale(0.15)" patternUnits="userSpaceOnUse">
            <path class="cls-1" d="M0 0H34.6V34.6H0z"/>
            <path class="cls-2" d="M0 17.3H34.6V34.6H0z"/>
            <path class="cls-1" d="M0 0H34.6V34.6H0z"/>
            </pattern>
            <pattern id="New_Pattern-9" data-name="New Pattern" width="34.6" height="34.6" patternTransform="translate(-31.24 195.09) scale(0.15)" patternUnits="userSpaceOnUse">
            <path class="cls-1" d="M0 0H34.6V34.6H0z"/>
            <path class="cls-2" d="M0 17.3H34.6V34.6H0z"/>
            <path class="cls-1" d="M0 0H34.6V34.6H0z"/>
            </pattern>
        </defs>
        <title>
            House Group
        </title>
        <g id="Layer_2" data-name="Layer 2">
            <g>
            <g id="house1" @click="onClick($event)">
                <path class="cls-4" d="M276,16.09A6,6,0,0,1,278.51,21V37.1a6,6,0,0,1-6,6H222.12a6,6,0,0,1-6-6V21a6,6,0,0,1,2.5-4.88L239.21,1.15A6,6,0,0,1,242.74,0h9.12a6.07,6.07,0,0,1,3.54,1.14Z"/>
                <path class="cls-5" d="M216.09,35.61H257a0,0,0,0,1,0,0v7.52a0,0,0,0,1,0,0H222.12a6,6,0,0,1-6-6V35.61A0,0,0,0,1,216.09,35.61Z"/>
                <path class="cls-6" d="M276,16.09,255.4,1.15A6.07,6.07,0,0,0,251.86,0c-9.21.08-9.24-.18-10.73.23L263,16.09A6,6,0,0,1,265.49,21V43.13h7a6,6,0,0,0,6-6V21A6,6,0,0,0,276,16.09Z"/>
                <path class="cls-5" d="M265.49,35.61h13a0,0,0,0,1,0,0V37.1a6,6,0,0,1-6,6h-7a0,0,0,0,1,0,0V35.61A0,0,0,0,1,265.49,35.61Z"/>
                <path class="cls-7" d="M257,43.13h8.52a0,0,0,0,1,0,0v38.2a1.7,1.7,0,0,1-1.7,1.7h-5.12a1.7,1.7,0,0,1-1.7-1.7V43.13A0,0,0,0,1,257,43.13Z"/>
                <path class="cls-2" d="M250.62,22h4.65a1.7,1.7,0,0,1,1.7,1.7V35.61a0,0,0,0,1,0,0h-8.05a0,0,0,0,1,0,0V23.69A1.7,1.7,0,0,1,250.62,22Z"/>
                <rect class="cls-2" x="224.3" y="22" width="16.1" height="13.6" rx="1.7"/>
                <rect class="cls-8" x="232.7" y="10.2" width="16.1" height="4.9" rx="1.7"/>
            </g>
            <g id="house2" @click="onClick($event)">
                <path class="cls-9" d="M360.18,134.21a6,6,0,0,1,2.49,4.88v16.13a6,6,0,0,1-6,6H306.28a6,6,0,0,1-6-6V139.09a6,6,0,0,1,2.49-4.88l20.62-14.94a6,6,0,0,1,3.53-1.14H336a6.07,6.07,0,0,1,3.54,1.14Z"/>
                <path class="cls-5" d="M300.25,153.73h40.88a0,0,0,0,1,0,0v7.52a0,0,0,0,1,0,0H306.28a6,6,0,0,1-6-6v-1.49A0,0,0,0,1,300.25,153.73Z"/>
                <path class="cls-10" d="M341.13,161.25h8.52a0,0,0,0,1,0,0v38.2a1.7,1.7,0,0,1-1.7,1.7h-5.12a1.7,1.7,0,0,1-1.7-1.7v-38.2A0,0,0,0,1,341.13,161.25Z"/>
                <path class="cls-2" d="M334.78,140.1h4.65a1.7,1.7,0,0,1,1.7,1.7v11.92a0,0,0,0,1,0,0h-8.05a0,0,0,0,1,0,0V141.81A1.7,1.7,0,0,1,334.78,140.1Z"/>
                <rect class="cls-2" x="308.5" y="140.1" width="16.1" height="13.6" rx="1.7"/>
                <path class="cls-11" d="M360.18,134.21l-20.62-14.94a6.07,6.07,0,0,0-3.54-1.14c-9.21.08-9.24-.18-10.72.23l21.86,15.84a6.05,6.05,0,0,1,2.5,4.89v22.16h7a6,6,0,0,0,6-6V139.09A6,6,0,0,0,360.18,134.21Z"/>
                <rect class="cls-12" x="321.9" y="126.5" width="6.9" height="6.9" rx="1.3"/>
                <path class="cls-5" d="M349.66,153.73h13a0,0,0,0,1,0,0v1.49a6,6,0,0,1-6,6h-7a0,0,0,0,1,0,0v-7.52A0,0,0,0,1,349.66,153.73Z"/>
            </g>
            <g id="house3" @click="onClick($event)">
                <path class="cls-13" d="M203.79,184.7a6,6,0,0,1,2.5,4.88v16.13a6,6,0,0,1-6,6H149.89a6,6,0,0,1-6-6V189.58a6,6,0,0,1,2.49-4.88L167,169.77a6,6,0,0,1,3.54-1.15h9.12a6,6,0,0,1,3.53,1.15Z"/>
                <path class="cls-5" d="M143.86,204.22h40.88a0,0,0,0,1,0,0v7.52a0,0,0,0,1,0,0H149.89a6,6,0,0,1-6-6v-1.49A0,0,0,0,1,143.86,204.22Z"/>
                <path class="cls-14" d="M184.74,211.74h8.52a0,0,0,0,1,0,0v38.2a1.7,1.7,0,0,1-1.7,1.7h-5.12a1.7,1.7,0,0,1-1.7-1.7v-38.2A0,0,0,0,1,184.74,211.74Z"/>
                <path class="cls-2" d="M178.39,190.6H183a1.7,1.7,0,0,1,1.7,1.7v11.92a0,0,0,0,1,0,0h-8.05a0,0,0,0,1,0,0V192.3A1.7,1.7,0,0,1,178.39,190.6Z"/>
                <rect class="cls-2" x="152.1" y="190.6" width="16.1" height="13.6" rx="1.7"/>
                <path class="cls-15" d="M203.79,184.7l-20.62-14.93a6,6,0,0,0-3.53-1.15c-9.22.08-9.25-.18-10.73.23l21.86,15.85a6,6,0,0,1,2.5,4.88v22.16h7a6,6,0,0,0,6-6V189.58A6,6,0,0,0,203.79,184.7Z"/>
                <path class="cls-16" d="M167.69,185.17v-2.52a.56.56,0,0,0-.55-.56h-2.52a.56.56,0,0,1-.56-.56v-1.3a.56.56,0,0,1,.56-.56h2.52a.56.56,0,0,0,.55-.56v-2.52a.57.57,0,0,1,.56-.56h1.31a.56.56,0,0,1,.56.56v2.52a.56.56,0,0,0,.56.56h2.52a.56.56,0,0,1,.55.56v1.3a.56.56,0,0,1-.55.56h-2.52a.56.56,0,0,0-.56.56v2.52a.56.56,0,0,1-.56.56h-1.31A.57.57,0,0,1,167.69,185.17Z"/>
                <path class="cls-5" d="M193.27,204.22h13a0,0,0,0,1,0,0v1.49a6,6,0,0,1-6,6h-7a0,0,0,0,1,0,0v-7.52A0,0,0,0,1,193.27,204.22Z"/>
            </g>
            <g id="house4" @click="onClick($event)">
                <path class="cls-17" d="M148,67.22a6,6,0,0,1,2.49,4.86V88.24a6,6,0,0,1-6,6H94.13a6,6,0,0,1-6-6V72.08a6,6,0,0,1,2.49-4.86l20.62-14.93a6,6,0,0,1,3.54-1.15h9.12a6,6,0,0,1,3.54,1.15Z"/>
                <path class="cls-5" d="M88.1,86.75H129a0,0,0,0,1,0,0v7.52a0,0,0,0,1,0,0H94.13a6,6,0,0,1-6-6V86.75A0,0,0,0,1,88.1,86.75Z"/>
                <path class="cls-18" d="M129,94.26h8.52a0,0,0,0,1,0,0v38.2a1.7,1.7,0,0,1-1.7,1.7h-5.12a1.7,1.7,0,0,1-1.7-1.7V94.26A0,0,0,0,1,129,94.26Z"/>
                <path class="cls-2" d="M122.62,73.12h4.65a1.7,1.7,0,0,1,1.7,1.7V86.75a0,0,0,0,1,0,0h-8.05a0,0,0,0,1,0,0V74.82A1.7,1.7,0,0,1,122.62,73.12Z"/>
                <rect class="cls-2" x="96.3" y="73.1" width="16.1" height="13.6" rx="1.7"/>
                <path class="cls-19" d="M148,67.22,127.41,52.29a6,6,0,0,0-3.54-1.15c-9.21.08-9.24-.18-10.73.24L135,67.22a6.05,6.05,0,0,1,2.49,4.89V94.27h7a6.05,6.05,0,0,0,6-6V72.11A6,6,0,0,0,148,67.22Z"/>
                <path class="cls-20" d="M112.87,60a.29.29,0,0,1,.27-.17.28.28,0,0,1,.27.17l.93,1.88a.33.33,0,0,0,.23.17l2.08.3a.3.3,0,0,1,.24.21.28.28,0,0,1-.07.3l-1.51,1.47a.33.33,0,0,0-.09.27l.36,2.07a.31.31,0,0,1-.12.3.33.33,0,0,1-.32,0l-1.86-1a.28.28,0,0,0-.28,0l-1.86,1a.33.33,0,0,1-.32,0,.31.31,0,0,1-.12-.3l.36-2.07a.33.33,0,0,0-.09-.27l-1.51-1.47a.28.28,0,0,1-.07-.3.3.3,0,0,1,.24-.21l2.08-.3a.31.31,0,0,0,.23-.17Z"/>
                <path class="cls-5" d="M137.5,86.75h13a0,0,0,0,1,0,0v1.49a6,6,0,0,1-6,6h-7a0,0,0,0,1,0,0V86.75A0,0,0,0,1,137.5,86.75Z"/>
            </g>
            <g id="house5" @click="onClick($event)">
                <path class="cls-21" d="M59.93,178.47a6,6,0,0,1,2.49,4.86v16.15a6,6,0,0,1-6,6H6a6,6,0,0,1-6-6V183.33a6,6,0,0,1,2.5-4.86l20.62-14.94a6,6,0,0,1,3.53-1.14h9.12a6.07,6.07,0,0,1,3.54,1.14Z"/>
                <path class="cls-5" d="M0,198H40.88a0,0,0,0,1,0,0v7.52a0,0,0,0,1,0,0H6a6,6,0,0,1-6-6V198a0,0,0,0,1,0,0Z"/>
                <path class="cls-22" d="M40.88,205.51H49.4a0,0,0,0,1,0,0v38.2a1.7,1.7,0,0,1-1.7,1.7H42.58a1.7,1.7,0,0,1-1.7-1.7v-38.2a0,0,0,0,1,0,0Z"/>
                <path class="cls-2" d="M34.53,184.36h4.65a1.7,1.7,0,0,1,1.7,1.7V198a0,0,0,0,1,0,0H32.82a0,0,0,0,1,0,0V186.07A1.7,1.7,0,0,1,34.53,184.36Z"/>
                <rect class="cls-2" x="8.3" y="184.4" width="16.1" height="13.6" rx="1.7"/>
                <path class="cls-23" d="M59.93,178.47,39.31,163.53a6.07,6.07,0,0,0-3.54-1.14c-9.21.08-9.24-.18-10.73.23l21.87,15.85a6,6,0,0,1,2.49,4.88v22.16h7a6,6,0,0,0,6-6V183.35A6,6,0,0,0,59.93,178.47Z"/>
                <path class="cls-24" d="M25,179.25a4.7,4.7,0,1,1,4.7-4.7A4.7,4.7,0,0,1,25,179.25Zm3.2-4.7a3.2,3.2,0,1,0-3.2,3.2A3.2,3.2,0,0,0,28.24,174.55Z"/>
                <path class="cls-5" d="M49.4,198h13a0,0,0,0,1,0,0v1.49a6,6,0,0,1-6,6h-7a0,0,0,0,1,0,0V198A0,0,0,0,1,49.4,198Z"/>
            </g>
            </g>
        </g>
    </svg>
</template>
<script>
import { TimelineLite } from 'gsap';
export default {
    name:'houses',
    data() {
        return {
            timeline: new TimelineLite(),
            scaled: false,
            houseidentifier:null
        }
    },
    props:{
    scrollTimeline: {
            type: Object
        }
    },
    methods: {
        onClick: function(event) {
            this.houseidentifier =  event.currentTarget.id;
            //let neighbourhoodParams = document.getElementById('allhouses').getBoundingClientRect();
            //this.timeline.to(document.getElementById('neighbourhood'),{duration:2,x:-1000,ease:'sine' })
            if(this.scaled) this.emitHouseParams(this.houseidentifier);
            else {
                this.scaled = true;
                this.timeline.to(document.getElementById('allhouses'),{duration:1,scale: 1.5,ease:"sine",onComplete: ()=> {
                    this.emitHouseParams(this.houseidentifier);
                }},"=-2");
            }
        },
        emitHouseParams: function(identifier) {
            let houseParams = document.getElementById(identifier).getBoundingClientRect();
            houseParams.enterNeighbourhood = true;
            houseParams.currentAgent= identifier;
            console.log('houseparams',houseParams,identifier)
            this.$emit("houseParams",houseParams);;
        }
    },
    mounted() {
        this.scrollTimeline.to(document.getElementById('allhouses'),{y:-1000,ease: "power1.in"},0)
    }
}
</script>
<style scoped>
    .cls-1{fill:none;}.cls-2{fill:#603d0f;}.cls-3{opacity:0.5;}.cls-4{fill:#fd0;}.cls-5{fill:#a16215;}.cls-6{fill:#ebbd00;}.cls-7{fill:url(#New_Pattern);}.cls-8{fill:#f7a600;}.cls-9{fill:#70c1a9;}.cls-10{fill:url(#New_Pattern-3);}.cls-11{fill:#4a9e8a;}.cls-12{fill:#9bd4c3;}.cls-13{fill:#484b9a;}.cls-14{fill:url(#New_Pattern-5);}.cls-15{fill:#26397f;}.cls-16{fill:#7f81b8;}.cls-17{fill:#e83882;}.cls-18{fill:url(#New_Pattern-7);}.cls-19{fill:#c31a62;}.cls-20{fill:#ef74a7;}.cls-21{fill:#ef9e43;}.cls-22{fill:url(#New_Pattern-9);}.cls-23{fill:#d48631;}.cls-24{fill:#f3bb7b;}
</style>